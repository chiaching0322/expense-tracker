<div class="container">
  <div name="filter-form" class="col-auto mr-auto">
    <form action="/filter" method="GET">
      <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" style="width: 80%"
        onchange="submit()" name="categorySelector">

        <option>Select</option>
        {{#each categoryList}}
        <option value="{{this.title}}" {{#ifEqual this.title ../categorySelector}}selected{{/ifEqual}}>{{this.title}}
        </option>
        {{/each}}
      </select>
    </form>
  </div>

  <div class="row mt-3">
    <div class="col-md-4 ml-4">
      <div class="" style=" font-weight: bold;font-size: 40px">
        總金額：
      </div>
    </div>
    <div class="col-md-6 text-align-center" style=" color: orange; font-weight: bold; font-size: 120px ">
      {{totalAmount}}
    </div>
  </div>




  <div class="mt-3">
    {{#each records}}
    <div class="d-flex justify-content-between">
      <div class="container">
        <ul class="list-group">
          <li class="list-group-item">
            <div class=" d-flex align-items-center">
              <div class="col-2 " style="padding:0">
                {{#each ../categoryList}}
                {{#ifEqual this.title ../this.category}} {{{this.icon}}} {{/ifEqual}}
                {{/each}}
              </div>
              <div class="align-items-center">
                <h4 style="align-items: center;  font-weight:bold">
                  {{ this.name }}
                </h4>
                <p>
                  {{ this.date }}
                </p>
              </div>
              <div class="ml-5" style="flex: 1;text-align: right">
                <div style="font-size:30px; font-weight:bold">{{ this.amount }}</div>
              </div>
            </div>
          </li>
        </ul>
      </div>

      <div class="d-flex align-items-center">
        <form action="./records/{{ this._id }}/edit">
          <button class="btn btn-success">
            edit
          </button>
        </form>

        <form action="./records/{{ this._id }}?_method=DELETE" method="POST" style="display: inline;">
          <button class="btn btn-danger" type="submit">delete</button>
        </form>
      </div>
    </div>

    {{/each}}
  </div>


  <div class="mt-5" style="text-align:center;">
    <form action="./records/new">
      <button class="btn btn-danger btn-lg" type="submit">新增支出</button>
    </form>
  </div>